# メモリ構成

プログラムは以下のようなメモリ構成でビルドされます。

|エリア名|解説|
|---|---|
| |↑ 0x0000|
|プログラムエリア|orgで指定する領域です。デフォルトでは0x100から開始します。|
|データエリア|変数定義したものはここに出力されます。プログラムロード時の初期値を指定できます。|
|文字定数エリア|constの文字列型で定義したものはここに出力されます。プログラム中に記述したリテラル文字列もここに出力されます。|
|シャドウデータエリア|プログラム中アドレスのみ定義されビルドファイルに出力されません。バイナリサイズを小さくするのに役立ちます。システム定数 _shadow で参照できます。|
|ヒープエリア|これ以降は予約されていないメモリです。自由に使えます。システム定数 _heap で参照できます。|
| | |
| … | … |
| | |
|シャドウプログラムエリア|常駐プログラムがいるという前提で作成されるエリアです。importのshadowオプションで読み込みます。ビルドファイルには出力されません。|
|データエリア| |
| … | … |
|ヒープエリア| |
| |↓ 0xFFFF|
